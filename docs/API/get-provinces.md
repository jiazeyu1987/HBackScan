# GET `/provinces`

- 入口：`code/hospital_scanner/main.py:300`
- 数据访问：`db.get_provinces`。
- 作用：分页返回省级行政区记录。

## 执行流程
1. 接收 `page`（默认 1）与 `page_size`（默认 20）。
2. `db.get_provinces` 校正分页参数（最小 1，最大 1000），先 count，再按名称排序分页查询。
3. 计算 `pages/has_next/has_prev` 后封装为 `PaginatedResponse`。

## 设计原因
- 提供基础的省份浏览，便于后续下钻城市。

## 优点
- 返回总数与分页元数据，前端可直接渲染分页。
- 参数绑定避免 SQL 注入。

## 缺点与风险
- 同步 sqlite 查询阻塞事件循环。
- 无排序/过滤配置；无数据时仅返回空列表，缺少“未初始化”提示。
- 当前上游刷新未写库，接口常为空。

## 改进建议
- DB 访问放线程池或改用异步驱动。
- 支持排序/过滤（代码、更新时间等），无数据时返回提示。
- 与刷新逻辑配合实现幂等 upsert，保证表内有数据。
