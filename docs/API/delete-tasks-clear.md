# DELETE `/tasks/clear`

- 入口：`code/hospital_scanner/main.py:143`，调用 `db.clear_all_tasks()`。
- 作用：删除任务表所有记录（不触碰层级/医院数据表）。

## 执行流程
1. 记录日志。
2. `db.clear_all_tasks` 执行 `DELETE FROM tasks`，并尝试重置 `sqlite_sequence`。
3. 成功返回 code=200；异常抛 500。

## 设计原因
- 为测试/批量重跑提供快速清理任务记录的入口。

## 优点
- 逻辑简单，直接清空主任务表。

## 缺点与风险
- 无鉴权或确认，易误删线上任务历史。
- 未级联清理 `hospital_info`，会留下孤儿记录。
- 重置自增序列对文本主键无意义。

## 改进建议
- 增加鉴权与幂等保护，限制仅调试环境可用。
- 级联清理关联表或提供按状态/时间窗口的删除。
- 返回受影响行数与清理摘要，便于审计。
