# GET `/hospitals`

- 入口：`code/hospital_scanner/main.py:369`
- 数据访问：`db.get_hospitals`。
- 作用：分页返回医院列表，可按 `district_id` 过滤。

## 执行流程
1. 接收可选 `district_id` 与 `page/page_size`。
2. `db.get_hospitals` 校正分页参数，按是否传入区县 ID 选择对应 count 与查询 SQL。
3. 返回 `PaginatedResponse`。

## 设计原因
- 支撑按行政区查看医院清单，供前端联级选择。

## 优点
- 参数绑定避免 SQL 注入，分页元数据完整。
- page_size 设有上限 1000，避免一次性返回过大数据。

## 缺点与风险
- 同步 sqlite 查询阻塞事件循环。
- 无排序/搜索能力；区县 ID 无效时默默返回空。
- 当前刷新/扫描未写入医院表，接口多为空且无提示数据来源或更新时间。

## 改进建议
- DB 访问放线程池或改用异步驱动，并可添加查询缓存。
- 增加排序（名称/等级/时间）与过滤（等级、床位数）选项。
- 返回中包含数据更新时间；表为空时提示需先运行扫描/刷新任务。
