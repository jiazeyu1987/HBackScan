# GET `/provinces`

- 入口：`code/hospital_scanner/main.py:300`
- 数据访问：`db.get_provinces`（`db.py`）。
- 作用：分页返回省级行政区记录。

## 执行流程
1. 接收 `page`（默认 1）与 `page_size`（默认 20）查询参数。
2. 调用 `db.get_provinces`：校正页码与页大小（最小 1，最大 1000），先统计总数，再按名称排序分页查询。
3. 计算 `pages/has_next/has_prev` 后封装为 `PaginatedResponse` 返回。

## 设计原因
- 提供基础的省份分页浏览，便于后续 drill-down 到城市列表。

## 优点
- 有总数与分页元数据，前端可直接渲染分页。
- 简单的页码校正避免非法参数。

## 缺点与风险
- 使用同步 sqlite 查询，阻塞事件循环。
- 未过滤软删除/更新时间，且未暴露排序字段配置。
- 如果上游刷新逻辑未落库（当前确实未写库），此接口始终返回空列表。

## 改进建议
- 将数据库访问移入线程池或改为 async driver。
- 提供可选排序/筛选（按代码、更新时间等）。
- 配合 `/refresh` 系列实现数据落库与幂等更新，否则先返回“未初始化”提示。
